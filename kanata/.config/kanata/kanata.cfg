;; --- Kanata Config Summary ---
;; Minimal ergonomic setup with tap-hold mods:
;; - A → Lalta, S → Lmet, D → LShift, F → LCtrl
;; - J → RCtrl, K → RShift, L → Rmet, ; → Ralta
;; - Caps → Esc (tap), Caps (hold)
;;
;; No layers used; symbols and number row left untouched
;; due to comfort and high typing speed.
;; Ctrl-W behavior retained as-is despite conflicts in some apps.
;; ------------------------------

(defcfg
  process-unmapped-keys yes
  )

(defsrc
  caps ins
  ;; a s d f j k l ;
  )

(defvar
  ;; we need to lower these times
  ;; for that practice doing quick swift taps
  tap-timeout 120  ;; max time for a double-tap & hold to register the tap action
  hold-timeout 120 ;; min time for a hold to register ;; max time until which a tap will get registered
  tap-dance-timeout 180

  tt $tap-timeout
  ht $hold-timeout
  tdt $tap-dance-timeout
  )

(defalias
  caps_mod (tap-hold $tt $ht esc ctl)
  ins2caps (tap-dance $tdt (caps ins))
  ;; a_mod (tap-hold $tt $ht a alt)
  ;; s_mod (tap-hold $tt $ht s met)
  ;; d_mod (tap-hold $tt $ht d sft)
  ;; f_mod (tap-hold $tt $ht f ctl)
  ;; j_mod (tap-hold $tt $ht j ctl)
  ;; k_mod (tap-hold $tt $ht k sft)
  ;; l_mod (tap-hold $tt $ht l met)
  ;; ;_mod (tap-hold $tt $ht ; alt)
  )

(deflayer base-layer
  @caps_mod @ins2caps
  ;; @a_mod @s_mod @d_mod @f_mod
  ;; @j_mod @k_mod @l_mod @;_mod
  )
